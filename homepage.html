<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ECS Home</title>
    <link href="homepage.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="getNews.js"></script>
    <script>
      $(function(){
        var url = 'http://rss.nytimes.com/services/xml/rss/nyt/Movies.xml';
        var news = $('.news');
        function dateFormat(pubDate) {
          var date = new Date(pubDate);
          var months = Array("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December");
          return date.getDate() + " " + months[date.getMonth()] + " " + date.getFullYear()
        }
        function loadNews(url) {
          $.ajax({
            url: url,
            type: 'GET',
            dataType: "xml"
          })
          .done(function(xml) {
              var i;
              for(i=0; i<5; i++) {
                  var self = $(xml).find('channel item').eq(i);
                  console.log("Found item");
                  var url = $(self).find('link').text();
                  console.log("Found item");
                  var title = $(self).find('title').text();
                  console.log("Found item");
                  var text = $(self).find('description').text();
                  console.log("Found item");
                  var date = $(self).find('pubDate').text();
                  console.log("Found item");
                  news.append('<h2>' + title + '</h2><p>' + dateFormat(date) + '</p><p>' + text + '</p><a href="' + url + '">Link</a>');
              }
          })
          //.fail(function(){
           // news.hide();
          //});
        }
        loadNews(url);
      });
    </script>
</head>
<body>
  <header>
  <h1 class="text-nowrap">Web Logo</h1>
  <!-- Put web logo here -->
  </header>

  <div class="content">
    <!--Top Navigation Bar-->
    <ul class="menu">
      <li><a href="#home">Home</a></li>
      <li><a href="#news">News</a></li>
      <li><a href="#comic">Comics</a></li>
      <li><a href="#account">Account</a></li>
      <li><a href="#about">About</a></li>
    </ul>

    <!-- use jQuery to display newsfeed using someone else's rss feed-->
    <div class="news">
      <p>News Feed Here</p>
      <hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/>
      <hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/>
    </div>
   
    <!-- display top 10 rated comics-->
    <div class = "t10">
      <p>Top 10 list here</p>
      <ol>
        <li>Comic 1</li>
        <li>Comic 2</li>
        <li>Comic 3</li>
        <li>Comic 4</li>
        <li>Comic 5</li>
        <li>Comic 6</li>
        <li>Comic 7</li>
        <li>Comic 8</li>
        <li>Comic 9</li>
        <li>Comic 10</li>
      <ol/>
    </div>
    
    <div class="recentUploads">
      <p>Recent Uploads Here</p>
      <hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/>
      <hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/>
    </div>
    
    <div class="comicUpdates">
      <p>Comic Updates Here</p>
      <hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/>
      <hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/><hr/>
    </div>
    </div>
	<hr/><hr/>
    
    <h4><a href="#" id="backtop">Back To Top</a></h4>

</body>
<footer class="footer">
  <ul class="flist">
    <li><a href="#">Home</a></li>
    <li><a href="about">About</a></li>
    <li><a href="contacts">Contacts</a></li>
    <li><a href="faq">FAQ</a></li>
    <li><a href="privacy">Privacy</a></li>
  </ul>
</footer>
</html>
